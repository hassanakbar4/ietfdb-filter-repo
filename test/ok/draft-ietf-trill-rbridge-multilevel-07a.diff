3c3
< INTERNET-DRAFT                                                       EMC
---
> Internet-Draft                                                       EMC
5c5
< Expires: January 3, 2018                                        M. Zhang
---
> Expires: January 4, 2018                                        M. Zhang
13,15c13,15
<                    Alternatives for Multilevel TRILL
<              (Transparent Interconnection of Lots of Links)
<               <draft-ietf-trill-rbridge-multilevel-07.txt>
---
>  Alternatives for Multilevel TRILL (Transparent Interconnection of Lots
>                                of Links)
>                draft-ietf-trill-rbridge-multilevel-07.txt
23,24c23,24
<    trees. Other issues are with TRILL switch nicknames. How are such
<    nicknames allocated across a multilevel TRILL network? Do nicknames
---
>    trees.  Other issues are with TRILL switch nicknames.  How are such
>    nicknames allocated across a multilevel TRILL network?  Do nicknames
40c40
<    Drafts is at https://datatracker.ietf.org/drafts/current/.
---
>    Drafts is at http://datatracker.ietf.org/drafts/current/.
47c47
<    This Internet-Draft will expire on December 14, 2017.
---
>    This Internet-Draft will expire on January 4, 2018.
56c56
<    (https://trustee.ietf.org/license-info) in effect on the date of
---
>    (http://trustee.ietf.org/license-info) in effect on the date of
73,75c73,75
<    includes a hop count. The design supports data labels (VLANs and Fine
<    Grained Labels [RFC7172]) and optimization of the distribution of
<    multi-destination data based on data label and multicast group.
---
>    includes a hop count.  The design supports data labels (VLANs and
>    Fine Grained Labels [RFC7172]) and optimization of the distribution
>    of multi-destination data based on data label and multicast group.
81c81
< 1.1 The Motivation for Multilevel
---
> 1.1.  The Motivation for Multilevel
87,99c87,99
<    1. The routing computation load
<    2. The volatility of the link state database (LSDB) creating too much
<       control traffic
<    3. The volatility of the LSDB causing the TRILL network to be in an
<       unconverged state too much of the time
<    4. The size of the LSDB
<    5. The limit of the number of TRILL switches, due to the 16-bit
<       nickname space (for further information on why this might be a
<       problem, see Section 1.2.5)
<    6. The traffic due to upper layer protocols use of broadcast and
<       multicast
<    7. The size of the end node learning table (the table that remembers
<       (egress TRILL switch, label/MAC) pairs)
---
>    1.  The routing computation load
>    2.  The volatility of the link state database (LSDB) creating too
>        much control traffic
>    3.  The volatility of the LSDB causing the TRILL network to be in an
>        unconverged state too much of the time
>    4.  The size of the LSDB
>    5.  The limit of the number of TRILL switches, due to the 16-bit
>        nickname space (for further information on why this might be a
>        problem, see Section 1.2.5)
>    6.  The traffic due to upper layer protocols use of broadcast and
>        multicast
>    7.  The size of the end node learning table (the table that remembers
>        (egress TRILL switch, label/MAC) pairs)
119c119
< 1.2 Improvements Due to Multilevel
---
> 1.2.  Improvements Due to Multilevel
123c123
<    through 1.2.4. Multilevel also contributes to solving issues 5 and 6
---
>    through 1.2.4.  Multilevel also contributes to solving issues 5 and 6
127,128c127,128
<    a TRILL campus. As a simplifying assumption, it is assumed that each
<    TRILL switch has k links to other TRILL switches. An "optimized"
---
>    a TRILL campus.  As a simplifying assumption, it is assumed that each
>    TRILL switch has k links to other TRILL switches.  An "optimized"
132c132
< 1.2.1. The Routing Computation Load
---
> 1.2.1.  The Routing Computation Load
137,140c137,141
<    [InterCon]). Thus, in a single level TRILL campus, it is on the order
<    of N*k*log(N). In an optimized multilevel campus, it is on the order
<    of sqrt(N)*k*log(N). So, for example, assuming N is 3,000, the level
<    of computational effort would be reduced by about a factor of 50.
---
>    [InterCon]).  Thus, in a single level TRILL campus, it is on the
>    order of N*k*log(N).  In an optimized multilevel campus, it is on the
>    order of sqrt(N)*k*log(N).  So, for example, assuming N is 3,000, the
>    level of computational effort would be reduced by about a factor of
>    50.
142c143
< 1.2.2. LSDB Volatility Creating Too Much Control Traffic
---
> 1.2.2.  LSDB Volatility Creating Too Much Control Traffic
146,147c147,148
<    a single level campus. With an optimized multilevel campus, each area
<    would have about sqrt(N) routers and proportionately fewer links
---
>    a single level campus.  With an optimized multilevel campus, each
>    area would have about sqrt(N) routers and proportionately fewer links
150c151
< 1.2.3. LSDB Volatility Causing To Much Time Unconverged
---
> 1.2.3.  LSDB Volatility Causing To Much Time Unconverged
155c156
<    rate of change occurrence and the convergence time. The rate of
---
>    rate of change occurrence and the convergence time.  The rate of
157c158
<    proportional to the number of router and links (Section 1.2.2). The
---
>    proportional to the number of router and links (Section 1.2.2).  The
159c160
<    involved at each router (Section 1.2.1). Thus, based on these
---
>    involved at each router (Section 1.2.1).  Thus, based on these
167c168
< 1.2.4. The Size Of The LSDB
---
> 1.2.4.  The Size Of The LSDB
171c172
<    proportional to the number of routers and links. So, as with item 2
---
>    proportional to the number of routers and links.  So, as with item 2
175c176
< 1.2.5 Nickname Limit
---
> 1.2.5.  Nickname Limit
178,179c179,180
<    nicknames. While some values are reserved, this appears to provide
<    enough nicknames to designated over 65,000 RBridges. However, this
---
>    nicknames.  While some values are reserved, this appears to provide
>    enough nicknames to designated over 65,000 RBridges.  However, this
182,196c183,197
<     - Nicknames are consumed when pseudo-nicknames are used for the
<       active-active connection of end stations. Using the techniques in
<       [RFC7781], for example, could double the nickname consumption if
<       there are extensive active-active edge groups connected to
<       different sets of edge TRILL switch ports.
< 
<     - There might be problems in multilevel campus wide contention for
<       single nickname allocation of nicknames were allocated
<       individually from a single pool for the entire campus. Thus it
<       seems likely that a hierarchical method would be chosen where
<       blocks of nicknames are allocated at Level 2 to Level 1 areas and
<       contention for a nickname by an RBridge in such a Level 1 area
<       would be only within that area. Such hierarchical allocation leads
<       to further effective loss of nicknames similar to the situation
<       with IP addresses discussed in [RFC3194].
---
>       -  Nicknames are consumed when pseudo-nicknames are used for the
>          active-active connection of end stations.  Using the techniques
>          in [RFC7781], for example, could double the nickname
>          consumption if there are extensive active-active edge groups
>          connected to different sets of edge TRILL switch ports.
> 
>       -  There might be problems in multilevel campus wide contention
>          for single nickname allocation of nicknames were allocated
>          individually from a single pool for the entire campus.  Thus it
>          seems likely that a hierarchical method would be chosen where
>          blocks of nicknames are allocated at Level 2 to Level 1 areas
>          and contention for a nickname by an RBridge in such a Level 1
>          area would be only within that area.  Such hierarchical
>          allocation leads to further effective loss of nicknames similar
>          to the situation with IP addresses discussed in [RFC3194].
205,207c206,208
<    addressed with the aggregated nickname approach. Since the aggregated
<    nickname approach requires some complexity in the border TRILL
<    switches (for rewriting the nicknames in the TRILL header), the
---
>    addressed with the aggregated nickname approach.  Since the
>    aggregated nickname approach requires some complexity in the border
>    TRILL switches (for rewriting the nicknames in the TRILL header), the
209c210
<    unique-nickname areas, and aggregated-nickname areas. Thus a TRILL
---
>    unique-nickname areas, and aggregated-nickname areas.  Thus a TRILL
230c231
< 1.2.6 Multi-Destination Traffic
---
> 1.2.6.  Multi-Destination Traffic
235c236
<    single link. See further discussion of this issue in Section 4.2.
---
>    single link.  See further discussion of this issue in Section 4.2.
237c238
< 1.3 Unique and Aggregated Nicknames
---
> 1.3.  Unique and Aggregated Nicknames
241c242
<    "aggregated nickname" alternative. In the aggregated nickname
---
>    "aggregated nickname" alternative.  In the aggregated nickname
253c254
<       o  it solves scaling problem #5 above, the 16-bit nickname limit,
---
>       -  it solves scaling problem #5 above, the 16-bit nickname limit,
255c256
<       o  it lessens the amount of inter-area routing information that
---
>       -  it lessens the amount of inter-area routing information that
257c258
<       o  it logically reduces the RPF (Reverse Path Forwarding) Check
---
>       -  it logically reduces the RPF (Reverse Path Forwarding) Check
268c269
< 1.4 More on Areas
---
> 1.4.  More on Areas
278c279
<    zero. If we change the specification so that the area address value
---
>    zero.  If we change the specification so that the area address value
283c284
< 1.5 Terminology and Acronyms
---
> 1.5.  Terminology and Acronyms
286c287
<    the additional acronym DBRB. However, for ease of reference, most
---
>    the additional acronym DBRB.  However, for ease of reference, most
292c293
<       Equipment Corporation. "DECnet Phase 5" was the origin of IS-IS.
---
>       Equipment Corporation.  "DECnet Phase 5" was the origin of IS-IS.
322c323
< 2. Multilevel TRILL Issues
---
> 2.  Multilevel TRILL Issues
327,329c328,330
<    a. Configuration of non-zero area addresses, encoding them in IS-IS
<       PDUs, and possibly interworking with old TRILL switches that do
<       not understand non-zero area addresses.
---
>    a.  Configuration of non-zero area addresses, encoding them in IS-IS
>        PDUs, and possibly interworking with old TRILL switches that do
>        not understand non-zero area addresses.
331c332
<          See Section 2.1.
---
>        See Section 2.1.
333c334
<    b. Nickname management.
---
>    b.  Nickname management.
335c336
<          See Sections 2.5 and 2.2.
---
>        See Sections 2.5 and 2.2.
337,338c338,339
<    c. Advertisement of pruning information (Data Label reachability, IP
<       multicast addresses) across areas.
---
>    c.  Advertisement of pruning information (Data Label reachability, IP
>        multicast addresses) across areas.
340,349c341,350
<          Distribution tree pruning information is only an optimization,
<          as long as multi-destination packets are not prematurely
<          pruned.  For instance, border TRILL switches could advertise
<          they can reach all possible Data Labels, and have an IP
<          multicast router attached.  This would cause all multi-
<          destination traffic to be transmitted to border TRILL switches,
<          and possibly pruned there, when the traffic could have been
<          pruned earlier based on Data Label or multicast group if border
<          TRILL switches advertised more detailed Data Label and/or
<          multicast listener and multicast router attachment information.
---
>        Distribution tree pruning information is only an optimization, as
>        long as multi-destination packets are not prematurely pruned.
>        For instance, border TRILL switches could advertise they can
>        reach all possible Data Labels, and have an IP multicast router
>        attached.  This would cause all multi- destination traffic to be
>        transmitted to border TRILL switches, and possibly pruned there,
>        when the traffic could have been pruned earlier based on Data
>        Label or multicast group if border TRILL switches advertised more
>        detailed Data Label and/or multicast listener and multicast
>        router attachment information.
351,352c352,353
<    d. Computation of distribution trees across areas for multi-
<       destination data.
---
>    d.  Computation of distribution trees across areas for multi-
>        destination data.
354c355
<          See Section 2.3.
---
>        See Section 2.3.
356c357
<    e. Computation of RPF information for those distribution trees.
---
>    e.  Computation of RPF information for those distribution trees.
358c359
<          See Section 2.4.
---
>        See Section 2.4.
360c361
<    f. Computation of pruning information across areas.
---
>    f.  Computation of pruning information across areas.
362c363
<          See Sections 2.3 and 2.6.
---
>        See Sections 2.3 and 2.6.
364,365c365,366
<    g. Compatibility, as much as practical, with existing, unmodified
<       TRILL switches.
---
>    g.  Compatibility, as much as practical, with existing, unmodified
>        TRILL switches.
367,371c368,372
<          The most important form of compatibility is with existing TRILL
<          fast path hardware. Changes that require upgrade to the slow
<          path firmware/software are more tolerable. Compatibility for
<          the relatively small number of border TRILL switches is less
<          important than compatibility for non-border TRILL switches.
---
>        The most important form of compatibility is with existing TRILL
>        fast path hardware.  Changes that require upgrade to the slow
>        path firmware/software are more tolerable.  Compatibility for the
>        relatively small number of border TRILL switches is less
>        important than compatibility for non-border TRILL switches.
373c374
<          See Section 5.
---
>        See Section 5.
375c376
< 2.1 Non-zero Area Addresses
---
> 2.1.  Non-zero Area Addresses
386c387
<    Protocol) code points on PPP [RFC6361], and the like. Thus, using an
---
>    Protocol) code points on PPP [RFC6361], and the like.  Thus, using an
396a398
> 
400,403c402,405
<    a.4 keep the fixed "area address" field as 0 in TRILL, and add a new,
<        optional TLV for "area name" to Hellos that, if present, could be
<        compared, by new TRILL switches, to prevent accidental area
<        merging.
---
>        a.4 keep the fixed "area address" field as 0 in TRILL, and add a
>        new, optional TLV for "area name" to Hellos that, if present,
>        could be compared, by new TRILL switches, to prevent accidental
>        area merging.
408c410
<    dominant area nickname as its area address. For the unique nickname
---
>    dominant area nickname as its area address.  For the unique nickname
410c412
<    held by any border RBridge of the area. For the aggregated nickname
---
>    held by any border RBridge of the area.  For the aggregated nickname
414c416
< 2.2 Aggregated versus Unique Nicknames
---
> 2.2.  Aggregated versus Unique Nicknames
431c433
< 2.2.1 More Details on Unique Nicknames
---
> 2.2.1.  More Details on Unique Nicknames
447c449
<    nicknames to limit the nicknames available within that area. Painful
---
>    nicknames to limit the nicknames available within that area.  Painful
449,453c451,456
<    LSDB. The information could be encoded as ranges of nicknames to make
<    this manageable by specifying a new TLV similar to the Nickname Flags
<    APPsub-TLV specified in [RFC7780] but providing flags for blocks of
<    nicknames rather than single nicknames. Although this would require
<    updating software, such a new TLV is the preferred method.
---
>    LSDB.  The information could be encoded as ranges of nicknames to
>    make this manageable by specifying a new TLV similar to the Nickname
>    Flags APPsub-TLV specified in [RFC7780] but providing flags for
>    blocks of nicknames rather than single nicknames.  Although this
>    would require updating software, such a new TLV is the preferred
>    method.
470c473
<       leaving known unicast packets un-mapped. However, this surrenders
---
>       leaving known unicast packets un-mapped.  However, this surrenders
481,485c484,488
<    hierarchical allocation (see [RFC3194]). One method to avoid nickname
<    exhaustion might be to expand nicknames to 24 bits; however, that
<    technique would require TRILL message format and fast path processing
<    changes and that all TRILL switches in the campus understand larger
<    nicknames.
---
>    hierarchical allocation (see [RFC3194]).  One method to avoid
>    nickname exhaustion might be to expand nicknames to 24 bits; however,
>    that technique would require TRILL message format and fast path
>    processing changes and that all TRILL switches in the campus
>    understand larger nicknames.
487c490
< 2.2.2 More Details on Aggregated Nicknames
---
> 2.2.2.  More Details on Aggregated Nicknames
490c493
<    information. It works as follows, assuming both the source and
---
>    information.  It works as follows, assuming both the source and
495,496c498,499
<       One method would be to assign each area a 16-bit nickname. This
<       would not be the nickname of any actual TRILL switch. Instead, it
---
>       One method would be to assign each area a 16-bit nickname.  This
>       would not be the nickname of any actual TRILL switch.  Instead, it
500c503
<       nicknames, see [DraftUnique].
---
>       nicknames, see [I-D.ietf-trill-multilevel-unique-nickname].
503,504c506,508
<       that identify the border routers for that area. (See [SingleName]
<       for a multilevel proposal using such a set of nicknames.)
---
>       that identify the border routers for that area.  (See
>       [I-D.ietf-trill-multilevel-single-nickname] for a multilevel
>       proposal using such a set of nicknames.)
510,534c514,538
<      -  When both the ingress and egress TRILL switches are in the same
<         area, there need be no change from the existing base TRILL
<         protocol standard in the TRILL Header nickname fields.
< 
<      - When being transported between different Level 1 areas in Level
<         2, the ingress nickname is a nickname of the ingress TRILL
<         switch's area while the egress nickname is either a nickname of
<         the egress TRILL switch's area or a tree nickname.
< 
<      -  When being transported from Level 1 to Level 2, the ingress
<         nickname is the nickname of the ingress TRILL switch itself
<         while the egress nickname is either a nickname for the area of
<         the egress TRILL switch or a tree nickname.
< 
<      -  When being transported from Level 2 to Level 1, the ingress
<         nickname is a nickname for the ingress TRILL switch's area while
<         the egress nickname is either the nickname of the egress TRILL
<         switch itself or a tree nickname.
< 
<    There are two variations of the aggregated nickname approach. The
<    first is the Border Learning approach, which is described in Section
<    2.2.2.1. The second is the Swap Nickname Field approach, which is
<    described in Section 2.2.2.2. Section 2.2.2.3 compares the advantages
<    and disadvantages of these two variations of the aggregated nickname
<    approach.
---
>       -  When both the ingress and egress TRILL switches are in the same
>          area, there need be no change from the existing base TRILL
>          protocol standard in the TRILL Header nickname fields.
> 
>       -  When being transported between different Level 1 areas in Level
>          2, the ingress nickname is a nickname of the ingress TRILL
>          switch's area while the egress nickname is either a nickname of
>          the egress TRILL switch's area or a tree nickname.
> 
>       -  When being transported from Level 1 to Level 2, the ingress
>          nickname is the nickname of the ingress TRILL switch itself
>          while the egress nickname is either a nickname for the area of
>          the egress TRILL switch or a tree nickname.
> 
>       -  When being transported from Level 2 to Level 1, the ingress
>          nickname is a nickname for the ingress TRILL switch's area
>          while the egress nickname is either the nickname of the egress
>          TRILL switch itself or a tree nickname.
> 
>    There are two variations of the aggregated nickname approach.  The
>    first is the Border Learning approach, which is described in
>    Section 2.2.2.1.  The second is the Swap Nickname Field approach,
>    which is described in Section 2.2.2.2.  Section 2.2.2.3 compares the
>    advantages and disadvantages of these two variations of the
>    aggregated nickname approach.
536c540
< 2.2.2.1 Border Learning Aggregated Nicknames
---
> 2.2.2.1.  Border Learning Aggregated Nicknames
562,563c566,567
<    1) RB1 has learned that D is connected to nickname 15918
<    2) RB3 has learned that D is attached to nickname 44.
---
>    1) RB1 has learned that D is connected to nickname 15918 2) RB3 has
>    learned that D is attached to nickname 44.
603c607
<    ingress nickname with the area nickname. If RB1 does not know the
---
>    ingress nickname with the area nickname.  If RB1 does not know the
618,619c622,623
<    this packet's distribution to be "only this area" (see also Section
<    4).
---
>    this packet's distribution to be "only this area" (see also
>    Section 4).
636c640
< 2.2.2.2 Swap Nickname Field Aggregated Nicknames
---
> 2.2.2.2.  Swap Nickname Field Aggregated Nicknames
640,643c644,647
<    nickname field" and the "egress swap nickname field". This variant is
<    described below for completeness but would require fast path hardware
<    changes from the existing TRILL protocol. The changes in the example
<    above would be as follows:
---
>    nickname field" and the "egress swap nickname field".  This variant
>    is described below for completeness but would require fast path
>    hardware changes from the existing TRILL protocol.  The changes in
>    the example above would be as follows:
646c650
<       nickname of RB4 to which D is attached. In encapsulating a frame
---
>       nickname of RB4 to which D is attached.  In encapsulating a frame
662,663c666,668
<    See [DraftAggregated] for a multilevel proposal using aggregated swap
<    nicknames with a single nickname representing an area.
---
>    See [I-D.balaji-trill-over-ip-multi-level] for a multilevel proposal
>    using aggregated swap nicknames with a single nickname representing
>    an area.
665c670
< 2.2.2.3 Comparison
---
> 2.2.2.3.  Comparison
671c676
<    communication outside the area. This burden could be reduced by
---
>    communication outside the area.  This burden could be reduced by
677c682
<    extensive changes to non-border TRILL switches. In particular, with
---
>    extensive changes to non-border TRILL switches.  In particular, with
683c688
<    backward compatible for non-border TRILL switches. It would be
---
>    backward compatible for non-border TRILL switches.  It would be
694c699
< 2.3 Building Multi-Area Trees
---
> 2.3.  Building Multi-Area Trees
712c717
< 2.4 The RPF Check for Trees
---
> 2.4.  The RPF Check for Trees
729c734
< 2.5 Area Nickname Acquisition
---
> 2.5.  Area Nickname Acquisition
747c752
<    RB7). RB7 can dynamically participate, in Level 2, to acquire a
---
>    RB7).  RB7 can dynamically participate, in Level 2, to acquire a
757c762
< 2.6 Link State Representation of Areas
---
> 2.6.  Link State Representation of Areas
762c767
<    together with their DBRB priority. (Note that the election of the
---
>    together with their DBRB priority.  (Note that the election of the
790c795
< 3. Area Partition
---
> 3.  Area Partition
803c808
<    problems. (They would just operate as separate Level 1 areas.)
---
>    problems.  (They would just operate as separate Level 1 areas.)
807,809c812,814
<    area. TRILL will not attempt to solve this problem. Within the Level
<    1 area, a single border RBridge will be the DBRB, and will be in
<    charge of deciding which (single) RBridge will transition any
---
>    area.  TRILL will not attempt to solve this problem.  Within the
>    Level 1 area, a single border RBridge will be the DBRB, and will be
>    in charge of deciding which (single) RBridge will transition any
816c821
< 4. Multi-Destination Scope
---
> 4.  Multi-Destination Scope
822,825c827,830
<    1. To address an issue in the border learning variant of the
<       aggregated nickname alternative, when a unicast packet turns into
<       a multi-destination packet when transitioning from Level 2 to
<       Level 1, as discussed in Section 4.1.
---
>    1.  To address an issue in the border learning variant of the
>        aggregated nickname alternative, when a unicast packet turns into
>        a multi-destination packet when transitioning from Level 2 to
>        Level 1, as discussed in Section 4.1.
827,828c832,833
<    2. To constrain the broadcast domain for certain discovery,
<       directory, or service protocols as discussed in Section 4.2.
---
>    2.  To constrain the broadcast domain for certain discovery,
>        directory, or service protocols as discussed in Section 4.2.
831,842c836,847
<    in a number of ways. For example, there could be a flag in the packet
<    that means "for this area only". However, the technique that might
<    require the least change to TRILL switch fast path logic would be to
<    indicate this in the egress nickname that designates the distribution
<    tree being used. There could be two general tree nicknames for each
<    tree, one being for distribution restricted to the area and the other
<    being for multi-area trees. Or there would be a set of N (perhaps 16)
<    special currently reserved nicknames used to specify the N highest
<    priority trees but with the variation that if the special nickname is
<    used for the tree, the packet is not transitioned between areas. Or
<    one or more special trees could be built that were restricted to the
<    local area.
---
>    in a number of ways.  For example, there could be a flag in the
>    packet that means "for this area only".  However, the technique that
>    might require the least change to TRILL switch fast path logic would
>    be to indicate this in the egress nickname that designates the
>    distribution tree being used.  There could be two general tree
>    nicknames for each tree, one being for distribution restricted to the
>    area and the other being for multi-area trees.  Or there would be a
>    set of N (perhaps 16) special currently reserved nicknames used to
>    specify the N highest priority trees but with the variation that if
>    the special nickname is used for the tree, the packet is not
>    transitioned between areas.  Or one or more special trees could be
>    built that were restricted to the local area.
844c849
< 4.1 Unicast to Multi-destination Conversions
---
> 4.1.  Unicast to Multi-destination Conversions
847,853c852,858
<    alternative, the following situation may occur:
<    -  a unicast packet might be known at the Level 1 to Level 2
<       transition and be forwarded as a unicast packet to the least cost
<       border TRILL switch advertising connectivity to the destination
<       area, but
<    -  upon arriving at the border TRILL switch, it turns out to have an
<       unknown destination { MAC, Data Label } pair.
---
>       alternative, the following situation may occur: - a unicast packet
>       might be known at the Level 1 to Level 2 transition and be
>       forwarded as a unicast packet to the least cost border TRILL
>       switch advertising connectivity to the destination area, but
> 
>       -  upon arriving at the border TRILL switch, it turns out to have
>          an unknown destination { MAC, Data Label } pair.
879c884
< 4.1.1 New Tree Encoding
---
> 4.1.1.  New Tree Encoding
882,883c887,888
<    nickname of the tree root. This requires all 16 bits of the egress
<    nickname field. TRILL could instead, for example, use the bottom 6
---
>    nickname of the tree root.  This requires all 16 bits of the egress
>    nickname field.  TRILL could instead, for example, use the bottom 6
887c892
<    o  scope: a flag indicating whether it should be single area only, or
---
>    -  scope: a flag indicating whether it should be single area only, or
889c894
<    o  border injector: an indicator of which of the k border TRILL
---
>    -  border injector: an indicator of which of the k border TRILL
893c898
<    in an edge group could inject a multi-destination packet. This would
---
>    in an edge group could inject a multi-destination packet.  This would
901c906
<    this time. It is included here for completeness.
---
>    this time.  It is included here for completeness.
903c908
< 4.2 Selective Broadcast Domain Reduction
---
> 4.2.  Selective Broadcast Domain Reduction
907c912
<    frames. Examples are DHCP, (Dynamic Host Configuration Protocol) the
---
>    frames.  Examples are DHCP, (Dynamic Host Configuration Protocol) the
914c919
<    use unicast to access a service elsewhere. In cases where a proxy
---
>    use unicast to access a service elsewhere.  In cases where a proxy
916c921
<    that references a central server or cache. With multilevel TRILL, it
---
>    that references a central server or cache.  With multilevel TRILL, it
919c924
<    can be further restricted in their distribution. Such restricted
---
>    can be further restricted in their distribution.  Such restricted
930c935
<       each area where protocol P may be in use. These proxies unicast
---
>       each area where protocol P may be in use.  These proxies unicast
932c937
<       server(s) for P. They also receive unicast responses or other
---
>       server(s) for P.  They also receive unicast responses or other
934c939
<       unicast, multicast, or broadcast as appropriate. (Such proxies
---
>       unicast, multicast, or broadcast as appropriate.  (Such proxies
943c948
< 5. Co-Existence with Old TRILL switches
---
> 5.  Co-Existence with Old TRILL switches
955c960
<    through that one DRBR. However this eliminates load splitting at
---
>    through that one DRBR.  However this eliminates load splitting at
958c963
< 6. Multi-Access Links with End Stations
---
> 6.  Multi-Access Links with End Stations
962,964c967,969
<    that end stations are TRILL ignorant. In particular, it is essential
<    that only one TRILL switch ingress/egress any given data packet
<    from/to an end station so that connectivity is provided to that end
---
>    that end stations are TRILL ignorant.  In particular, it is essential
>    that only one TRILL switch ingress/egress any given data packet from/
>    to an end station so that connectivity is provided to that end
972,975c977,980
<    Forwarder per VLAN [RFC7177] [RFC8139]. This mechanism depends on the
<    RBridges establishing adjacency.  But suppose there are two (or more)
<    TRILL switches on a link in different areas, say RB1 in area A1 and
<    RB2 in area A2, as shown below, and that the link also has one or
---
>    Forwarder per VLAN [RFC7177] [RFC8139].  This mechanism depends on
>    the RBridges establishing adjacency.  But suppose there are two (or
>    more) TRILL switches on a link in different areas, say RB1 in area A1
>    and RB2 in area A2, as shown below, and that the link also has one or
978c983
<    do under normal IS-IS PDU processing rules,  then they will not form
---
>    do under normal IS-IS PDU processing rules, then they will not form
984c989
<    transfer between RB1 and RB2. The area address mechanism of IS-IS or
---
>    transfer between RB1 and RB2.  The area address mechanism of IS-IS or
986c991
<    well. The problem stems from end stations being TRILL ignorant so
---
>    well.  The problem stems from end stations being TRILL ignorant so
1012,1013c1017,1018
<    on the link. This would automatically give multilevel-ignorant legacy
<    TRILL switches, that would be using area number zero, highest
---
>    on the link.  This would automatically give multilevel-ignorant
>    legacy TRILL switches, that would be using area number zero, highest
1017c1022
<    Other methods are possible. For example doing the selection of
---
>    Other methods are possible.  For example doing the selection of
1025,1026c1030,1031
<    will not form an adjacency with such RBridges. However, the action is
<    quite simple in the preferred case: if a TRILL switch sees Hellos
---
>    will not form an adjacency with such RBridges.  However, the action
>    is quite simple in the preferred case: if a TRILL switch sees Hellos
1031c1036
< 7. Summary
---
> 7.  Summary
1043,1046c1048,1051
<    aggregated nicknames.  It is possible to support both. For example, a
<    TRILL campus could use simpler unique nicknames until scaling begins
<    to cause problems and then start to introduce areas with aggregated
<    nicknames.
---
>    aggregated nicknames.  It is possible to support both.  For example,
>    a TRILL campus could use simpler unique nicknames until scaling
>    begins to cause problems and then start to introduce areas with
>    aggregated nicknames.
1052c1057
< 8. Security Considerations
---
> 8.  Security Considerations
1060,1061c1065,1066
<    nickname collision that would not occur with unique nicknames. Such a
<    collision could cause a data packet to be delivered to the wrong
---
>    nickname collision that would not occur with unique nicknames.  Such
>    a collision could cause a data packet to be delivered to the wrong
1068c1073
< 9. IANA Considerations
---
> 9.  IANA Considerations
1070c1075
<    This document requires no IANA actions. RFC Editor: Please remove
---
>    This document requires no IANA actions.  RFC Editor: Please remove
1073c1078,1080
< Normative References
---
> 10.  References
> 
> 10.1.  Normative References
1075,1104c1082,1133
<    [IS-IS] International Organization for Standardization, "Intermediate System to
<          Intermediate System Intra-Domain Routing Exchange Protocol for
<          use in Conjunction with the Protocol for Providing the
<          Connectionless-mode Network Service (ISO 8473)", ISO/IEC 10589:2002, 2002.
< 
<    [RFC6325] Perlman, R., Eastlake 3rd, D., Dutt, D., Gai, S., and A.
<          Ghanwani, "Routing Bridges (RBridges): Base Protocol
<          Specification", RFC 6325, July 2011.
< 
<    [RFC7177] Eastlake 3rd, D., Perlman, R., Ghanwani, A., Yang, H.,
<          and V. Manral, "Transparent Interconnection of Lots of Links
<          (TRILL): Adjacency", RFC 7177, May 2014, <https://www.rfc-
<          editor.org/info/rfc7177>.
< 
<    [RFC7780] - Eastlake 3rd, D., Zhang, M., Perlman, R., Banerjee, A.,
<          Ghanwani, A., and S. Gupta, "Transparent Interconnection of
<          Lots of Links (TRILL): Clarifications, Corrections, and
<          Updates", RFC 7780, DOI 10.17487/RFC7780, February 2016,
<          <https://www.rfc-editor.org/info/rfc7780>.
< 
<    [RFC8139] Eastlake, D., Li, Y., Umair, M., Banerjee, A., and F. Hu,
<          "Transparent Interconnection of Lots of Links (TRILL):
<          Appointed Forwarders", RFC 8139, DOI 10.17487/RFC8139, June
<          2017, <https://www.rfc-editor.org/info/rfc8139>.
< 
< Informative References
< 
<    [InterCon]  Perlman, R., "Interconnections, Second Edition; Bridges,
<          Routers, Switches, and Internetworking Protocols",
<          ISBN 0-201-63448-1, September 1999.
---
>    [IS-IS]    International Organization for Standardization,
>               "Intermediate System to Intermediate System Intra-Domain
>               Routing Exchange Protocol for use in Conjunction with the
>               Protocol for Providing the Connectionless-mode Network
>               Service (ISO 8473)", ISO/IEC 10589:2002, 2002.
> 
>    [RFC6325]  Perlman, R., Eastlake 3rd, D., Dutt, D., Gai, S., and A.
>               Ghanwani, "Routing Bridges (RBridges): Base Protocol
>               Specification", RFC 6325, DOI 10.17487/RFC6325, July 2011,
>               <https://www.rfc-editor.org/info/rfc6325>.
> 
>    [RFC7177]  Eastlake 3rd, D., Perlman, R., Ghanwani, A., Yang, H., and
>               V. Manral, "Transparent Interconnection of Lots of Links
>               (TRILL): Adjacency", RFC 7177, DOI 10.17487/RFC7177, May
>               2014, <https://www.rfc-editor.org/info/rfc7177>.
> 
>    [RFC7780]  Eastlake 3rd, D., Zhang, M., Perlman, R., Banerjee, A.,
>               Ghanwani, A., and S. Gupta, "Transparent Interconnection
>               of Lots of Links (TRILL): Clarifications, Corrections, and
>               Updates", RFC 7780, DOI 10.17487/RFC7780, February 2016,
>               <https://www.rfc-editor.org/info/rfc7780>.
> 
>    [RFC8139]  Eastlake 3rd, D., Li, Y., Umair, M., Banerjee, A., and F.
>               Hu, "Transparent Interconnection of Lots of Links (TRILL):
>               Appointed Forwarders", RFC 8139, DOI 10.17487/RFC8139,
>               June 2017, <https://www.rfc-editor.org/info/rfc8139>.
> 
> 10.2.  Informative References
> 
>    [I-D.balaji-trill-over-ip-multi-level]
>               Bhikkaji, B., Venkataswami, B., Mahadevan, R., Sundaram,
>               S., and N. Swamy, "Connecting Disparate Data Center/PBB/
>               Campus TRILL sites using BGP", draft-balaji-trill-over-ip-
>               multi-level-05 (work in progress), March 2012.
> 
>    [I-D.ietf-trill-multilevel-single-nickname]
>               Zhang, M., Eastlake, D., Perlman, R., Cullen, M., and H.
>               Zhai, "Transparent Interconnection of Lots of Links
>               (TRILL) Single Area Border RBridge Nickname for
>               Multilevel", draft-ietf-trill-multilevel-single-
>               nickname-06 (work in progress), July 2018.
> 
>    [I-D.ietf-trill-multilevel-unique-nickname]
>               Zhang, M., Eastlake, D., Perlman, R., Zhai, H., and D.
>               Liu, "TRILL Multilevel Using Unique Nicknames", draft-
>               ietf-trill-multilevel-unique-nickname-07 (work in
>               progress), March 2018.
> 
>    [InterCon]
>               Perlman, R., "Interconnections, Second Edition; Bridges,
>               Routers, Switches, and Internetworking Protocols",
>               ISBN 0-201-63448-1, September 1999.
1107,1109c1136,1138
<          Address Assignment Efficiency An Update on the H ratio", RFC
<          3194, DOI 10.17487/RFC3194, November 2001, <https://www.rfc-
<          editor.org/info/rfc3194>.
---
>               Address Assignment Efficiency An Update on the H ratio",
>               RFC 3194, DOI 10.17487/RFC3194, November 2001,
>               <https://www.rfc-editor.org/info/rfc3194>.
1112,1121c1141,1155
<          Interconnection of Lots of Links (TRILL) Protocol Control
<          Protocol", RFC 6361, August 2011.
< 
<    [RFC7172]  Eastlake 3rd, D., Zhang, M., Agarwal, P., Perlman, R.,
<          and D. Dutt, "Transparent Interconnection of Lots of Links
<          (TRILL): Fine-Grained Labeling", RFC 7172, May 2014
< 
<    [RFC7176] Eastlake 3rd, D., Senevirathne, T., Ghanwani, A., Dutt,
<          D., and A. Banerjee, "Transparent Interconnection of Lots of
<          Links (TRILL) Use of IS-IS", RFC 7176, May 2014.
---
>               Interconnection of Lots of Links (TRILL) Protocol Control
>               Protocol", RFC 6361, DOI 10.17487/RFC6361, August 2011,
>               <https://www.rfc-editor.org/info/rfc6361>.
> 
>    [RFC7172]  Eastlake 3rd, D., Zhang, M., Agarwal, P., Perlman, R., and
>               D. Dutt, "Transparent Interconnection of Lots of Links
>               (TRILL): Fine-Grained Labeling", RFC 7172,
>               DOI 10.17487/RFC7172, May 2014,
>               <https://www.rfc-editor.org/info/rfc7172>.
> 
>    [RFC7176]  Eastlake 3rd, D., Senevirathne, T., Ghanwani, A., Dutt,
>               D., and A. Banerjee, "Transparent Interconnection of Lots
>               of Links (TRILL) Use of IS-IS", RFC 7176,
>               DOI 10.17487/RFC7176, May 2014,
>               <https://www.rfc-editor.org/info/rfc7176>.
1124,1133c1158,1167
<          Stokes, "Transparent Interconnection of Lots of Links (TRILL):
<          End Station Address Distribution Information (ESADI) Protocol",
<          RFC 7357, September 2014, <https://www.rfc-
<          editor.org/info/rfc7357>.
< 
<    [RFC7781]  Zhai, H., Senevirathne, T., Perlman, R., Zhang, M., and
<          Y. Li, "Transparent Interconnection of Lots of Links (TRILL):
<          Pseudo-Nickname for Active-Active Access", RFC 7781, DOI
<          10.17487/RFC7781, February 2016, <https://www.rfc-
<          editor.org/info/rfc7781>.
---
>               Stokes, "Transparent Interconnection of Lots of Links
>               (TRILL): End Station Address Distribution Information
>               (ESADI) Protocol", RFC 7357, DOI 10.17487/RFC7357,
>               September 2014, <https://www.rfc-editor.org/info/rfc7357>.
> 
>    [RFC7781]  Zhai, H., Senevirathne, T., Perlman, R., Zhang, M., and Y.
>               Li, "Transparent Interconnection of Lots of Links (TRILL):
>               Pseudo-Nickname for Active-Active Access", RFC 7781,
>               DOI 10.17487/RFC7781, February 2016,
>               <https://www.rfc-editor.org/info/rfc7781>.
1136,1152c1170,1173
<          "Coordinated Multicast Trees (CMT) for Transparent
<          Interconnection of Lots of Links (TRILL)", RFC 7783, DOI
<          10.17487/RFC7783, February 2016, <https://www.rfc-
<          editor.org/info/rfc7783>.
< 
<    [DraftAggregated]  Bhargav Bhikkaji, Balaji Venkat Venkataswami,
<          Narayana Perumal Swamy, "Connecting Disparate Data
<          Center/PBB/Campus TRILL sites using BGP", draft-balaji-trill-
<          over-ip-multi-level, Work In Progress.
< 
<    [DraftUnique]  M. Zhang, D. Eastlake, R. Perlman, M. Cullen, H.
<          Zhai, D. Liu, "TRILL Multilevel Using Unique Nicknames", draft-
<          ietf-trill-multilevel-unique-nickname, Work In Progress.
< 
<    [SingleName]  Mingui Zhang, et. al, "Single Area Border RBridge
<          Nickname for TRILL Multilevel", draft-ietf-trill-multilevel-
<          single-nickname, Work in Progress.
---
>               "Coordinated Multicast Trees (CMT) for Transparent
>               Interconnection of Lots of Links (TRILL)", RFC 7783,
>               DOI 10.17487/RFC7783, February 2016,
>               <https://www.rfc-editor.org/info/rfc7783>.
1162c1183
<    The document was prepared in raw nroff. All macros used were defined
---
>    The document was prepared in raw nroff.  All macros used were defined
1172c1193
<    EMail: radia@alum.mit.edu
---
>    Email: radia@alum.mit.edu
1187c1208
<    EMail: zhangmingui@huawei.com
---
>    Email: zhangmingui@huawei.com
1194c1215
<    EMail: anoop@alumni.duke.edu
---
>    Email: anoop@alumni.duke.edu
1201c1222
<    EMail: honjun.zhai@tom.com
---
>    Email: honjun.zhai@tom.com
